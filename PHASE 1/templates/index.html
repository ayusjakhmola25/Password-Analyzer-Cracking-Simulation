<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Phase 1 - Password Analyzer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Password Strength Analyzer (Phase 1)</h1>

        <form method="POST" action="{{ url_for('analyze_route') }}">
            <input type="password" name="password" placeholder="Enter password to analyze" required>
            <button type="submit">Analyze Password</button>
        </form>

        {% if result %}
        <div class="result-box {% if result['strength']=='Strong' %}strong{% elif result['strength']=='Moderate' %}moderate{% else %}weak{% endif %}">
            <h3>Overall: {{ result['strength'] }}</h3>
            <ul>
                <li>Length ≥ 8 → {{ "✅ Passed" if result['length'] else "❌ Failed" }}</li>
                <li>Contains digit → {{ "✅ Passed" if result['digit'] else "❌ Failed" }}</li>
                <li>Contains uppercase → {{ "✅ Passed" if result['upper'] else "❌ Failed" }}</li>
                <li>Contains lowercase → {{ "✅ Passed" if result['lower'] else "❌ Failed" }}</li>
                <li>Contains special char → {{ "✅ Passed" if result['special'] else "❌ Failed" }}</li>
            </ul>
            <p><strong>Stack Simulation (Reversed):</strong> {{ result['stack'] }}</p>
        </div>
        {% endif %}

        <div class="history">
            <h4>Last Attempts (Queue)</h4>
            {% if history %}
            <ol>
                {% for it in history %}
                <li>{{ it.password }} → {{ it.strength }}</li>
                {% endfor %}
            </ol>
            {% else %}
            <p>No attempts yet.</p>
            {% endif %}
        </div>
    </div>
</body>
</html>
